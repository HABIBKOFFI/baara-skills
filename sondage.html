<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BAARA SKILLS ‚Äî Sondage Apprenants</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;700;800&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
<style>
  :root {
    /* LIGHT MODE */
    --bg-primary: #F0EDE6;
    --bg-secondary: #FFFFFF;
    --nuit2: #F8F7F4;
    --nuit3: #EDEAE3;
    --blanc: #0B0E1A;
    --gris: #4A4A4A;
    --ligne: rgba(11,14,26,0.12);
    --or: #F5A623;
    --or-vif: #FF8C00;
  }

  [data-theme="dark"] {
    /* DARK MODE */
    --bg-primary: #0B0E1A;
    --bg-secondary: #111627;
    --nuit2: #111627;
    --nuit3: #1A2035;
    --blanc: #F0EDE6;
    --gris: #8A8FA8;
    --ligne: rgba(245,166,35,0.18);
  }

  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  html { scroll-behavior: smooth; }

  body {
    background: var(--bg-primary);
    color: var(--blanc);
    font-family: 'Syne', sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: 9999;
    opacity: 0.25;
  }

  /* NAV */
  nav {
    position: fixed;
    top: 0; left: 0; right: 0;
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 22px 48px;
    background: var(--bg-secondary);
    backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--ligne);
    transition: all 0.3s ease;
  }
  .logo {
    font-family: 'Archivo', sans-serif;
    font-weight: 900;
    font-size: clamp(1.1rem, 2.5vw, 1.5rem);
    letter-spacing: 0.15em;
    color: var(--text-primary);
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  
  .logo-symbol {
    width: 32px;
    height: 32px;
    background: linear-gradient(135deg, var(--or), var(--or-vif));
    clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
    animation: rotate-slow 20s linear infinite;
  }

  .nav-right {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .nav-tag {
    font-family: 'Space Mono', monospace;
    font-size: 0.65rem;
    color: var(--or);
    letter-spacing: 0.18em;
    text-transform: uppercase;
    border: 1px solid var(--ligne);
    padding: 5px 12px;
  }

  <!-- HERO -->
<section class="hero">
  <div class="hero-wrapper">
    <div class="hero-content">
      <div class="hero-eyebrow" data-i18n="hero-eyebrow">De la formation √† l'emploi</div>

      <h1><span data-i18n="hero-title-1">Forge ton m√©tier.</span> <span class="highlight" data-i18n="hero-title-2">Prouve-le.</span></h1>

      <p class="hero-desc" data-i18n="hero-desc">
        Des simulations professionnelles co-cr√©√©es avec des entreprises. Des comp√©tences certifi√©es. Un portfolio qui prouve ce que tu sais faire.
      </p>

  /* Toggle Theme */
  .theme-toggle {
    width: 50px;
    height: 26px;
    background: var(--nuit3);
    border: 2px solid var(--ligne);
    border-radius: 13px;
    position: relative;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .theme-toggle::before {
    content: '‚òÄÔ∏è';
    position: absolute;
    left: 2px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 0.7rem;
  }

  .theme-toggle::after {
    content: '';
    position: absolute;
    left: 3px;
    top: 3px;
    width: 16px;
    height: 16px;
    background: var(--or);
    border-radius: 50%;
    transition: transform 0.3s ease;
  }

  [data-theme="dark"] .theme-toggle::before {
    content: 'üåô';
    left: auto;
    right: 2px;
  }

  [data-theme="dark"] .theme-toggle::after {
    transform: translateX(24px);
  }

  /* Language Selector */
  .lang-selector {
    display: flex;
    gap: 0.3rem;
    background: var(--nuit3);
    border: 2px solid var(--ligne);
    border-radius: 4px;
    padding: 0.3rem;
  }

  .lang-btn {
    background: none;
    border: none;
    font-family: 'Space Mono', monospace;
    font-size: 0.75rem;
    font-weight: 600;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    color: var(--gris);
    padding: 0.3rem 0.6rem;
    cursor: pointer;
    border-radius: 2px;
    transition: all 0.2s ease;
  }

  .lang-btn.active {
    background: var(--or);
    color: #FFFFFF;
  }

  /* PROGRESS */
  .progress-wrap {
    position: fixed;
    top: 0; left: 0; right: 0;
    height: 3px;
    background: var(--nuit3);
    z-index: 200;
  }
  .progress-bar {
    height: 100%;
    background: linear-gradient(90deg, var(--or), var(--or-vif));
    transition: width 0.5s ease;
    width: 0%;
  }

  /* LAYOUT */
  .survey-wrap {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 120px 24px 60px;
  }

  .question-container {
    width: 100%;
    max-width: 640px;
    position: relative;
  }

  /* QUESTION CARD */
  .question-card {
    display: none;
    animation: fadeUp 0.5s ease both;
  }
  .question-card.active { display: block; }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .q-num {
    font-family: 'Space Mono', monospace;
    font-size: 0.65rem;
    letter-spacing: 0.2em;
    color: var(--or);
    text-transform: uppercase;
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    gap: 12px;
  }
  .q-num::before {
    content: '';
    display: block;
    width: 30px; height: 1px;
    background: var(--or);
  }

  .q-title {
    font-weight: 800;
    font-size: clamp(1.5rem, 4vw, 2.2rem);
    line-height: 1.15;
    letter-spacing: -0.02em;
    margin-bottom: 12px;
  }

  .q-sub {
    font-size: 0.88rem;
    color: var(--gris);
    margin-bottom: 36px;
    line-height: 1.6;
  }

  /* INPUT FIELDS */
  input[type="email"],
  input[type="tel"] {
    width: 100%;
    background: var(--nuit2);
    border: 1px solid var(--ligne);
    border-bottom: 2px solid var(--or);
    color: var(--blanc);
    font-family: 'Syne', sans-serif;
    font-size: 1.1rem;
    padding: 18px 20px;
    outline: none;
    transition: border-color 0.2s;
    margin-bottom: 12px;
  }
  
  input[type="email"]::placeholder,
  input[type="tel"]::placeholder {
    color: var(--gris);
    opacity: 0.5;
  }
  
  input[type="email"]:focus,
  input[type="tel"]:focus {
    border-color: var(--or);
  }
  
  input.error {
    border-color: #ff4444;
    animation: shake 0.3s;
  }
  
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-10px); }
    75% { transform: translateX(10px); }
  }
  
  .error-msg {
    font-family: 'Space Mono', monospace;
    font-size: 0.7rem;
    color: #ff4444;
    margin-top: -8px;
    margin-bottom: 12px;
    display: none;
  }
  
  .error-msg.show {
    display: block;
  }

  /* OPTIONS */
  .options-grid {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .option-btn {
    background: var(--nuit2);
    border: 1px solid var(--ligne);
    color: var(--blanc);
    font-family: 'Syne', sans-serif;
    font-size: 0.95rem;
    font-weight: 400;
    padding: 16px 22px;
    text-align: left;
    cursor: pointer;
    transition: all 0.2s;
    position: relative;
    display: flex;
    align-items: center;
    gap: 14px;
  }
  .option-btn:hover {
    border-color: var(--or);
    background: var(--nuit3);
  }
  .option-btn.selected {
    border-color: var(--or);
    background: rgba(245,166,35,0.08);
    color: var(--or);
  }
  .option-letter {
    font-family: 'Space Mono', monospace;
    font-size: 0.7rem;
    color: var(--or);
    border: 1px solid var(--ligne);
    width: 24px; height: 24px;
    display: flex; align-items: center; justify-content: center;
    flex-shrink: 0;
  }
  .option-btn.selected .option-letter {
    background: var(--or);
    color: var(--bg-primary);
  }

  /* SCALE */
  .scale-wrap {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
  }
  .scale-btn {
    flex: 1;
    min-width: 44px;
    height: 54px;
    background: var(--nuit2);
    border: 1px solid var(--ligne);
    color: var(--blanc);
    font-family: 'Space Mono', monospace;
    font-size: 1rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
  }
  .scale-btn:hover { border-color: var(--or); }
  .scale-btn.selected {
    background: var(--or);
    border-color: var(--or);
    color: var(--bg-primary);
  }
  .scale-labels {
    display: flex;
    justify-content: space-between;
    margin-top: 10px;
  }
  .scale-labels span {
    font-family: 'Space Mono', monospace;
    font-size: 0.62rem;
    color: var(--gris);
  }

  /* TEXTAREA */
  textarea {
    width: 100%;
    background: var(--nuit2);
    border: 1px solid var(--ligne);
    border-bottom: 2px solid var(--or);
    color: var(--blanc);
    font-family: 'Syne', sans-serif;
    font-size: 1rem;
    padding: 18px 20px;
    resize: none;
    outline: none;
    height: 120px;
    line-height: 1.6;
    transition: border-color 0.2s;
  }
  textarea::placeholder { color: var(--gris); opacity: 0.5; }
  textarea:focus { border-color: var(--or); }

  /* CHAMP "AUTRE" */
  .other-input {
    width: 100%;
    background: var(--nuit2);
    border: 1px solid var(--ligne);
    border-bottom: 2px solid var(--or);
    color: var(--blanc);
    font-family: 'Syne', sans-serif;
    font-size: 0.95rem;
    padding: 12px 16px;
    outline: none;
    transition: border-color 0.2s;
    margin-top: 12px;
    display: none;
  }
  
  .other-input.show {
    display: block;
    animation: fadeIn 0.3s ease;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  .other-input::placeholder { color: var(--gris); opacity: 0.5; }
  .other-input:focus { border-color: var(--or); }

  /* NAVIGATION BUTTONS */
  .nav-btns {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 36px;
    gap: 16px;
  }
  .btn-prev {
    background: none;
    border: 1px solid var(--ligne);
    color: var(--blanc);
    font-family: 'Space Mono', monospace;
    font-size: 0.75rem;
    padding: 12px 20px;
    cursor: pointer;
    transition: all 0.2s;
  }
  .btn-prev:hover {
    border-color: var(--or);
    color: var(--or);
  }
  .btn-next {
    background: linear-gradient(90deg, var(--or), var(--or-vif));
    border: none;
    color: var(--bg-primary);
    font-family: 'Space Mono', monospace;
    font-size: 0.8rem;
    font-weight: 700;
    padding: 14px 28px;
    cursor: pointer;
    transition: all 0.2s;
  }
  .btn-next:disabled {
    opacity: 0.35;
    cursor: not-allowed;
  }
  .btn-next:not(:disabled):hover {
    transform: translateX(4px);
  }
  .press-enter {
    font-family: 'Space Mono', monospace;
    font-size: 0.65rem;
    color: var(--gris);
  }

  /* SUCCESS SCREEN */
  .success-screen {
    display: none;
    text-align: center;
    padding: 40px 20px;
    animation: fadeUp 0.6s ease both;
  }
  .success-screen.active { display: block; }
  .success-icon {
    font-size: 4rem;
    color: var(--or);
    display: block;
    margin-bottom: 24px;
  }
  .success-screen h2 {
    font-weight: 800;
    font-size: clamp(2rem, 5vw, 3rem);
    line-height: 1.15;
    margin-bottom: 20px;
  }
  .success-screen h2 span { color: var(--or); }
  .success-screen p {
    font-size: 1.05rem;
    color: var(--gris);
    line-height: 1.7;
    margin-bottom: 36px;
    max-width: 540px;
    margin-left: auto;
    margin-right: auto;
  }
  .btn-share {
    display: inline-block;
    background: linear-gradient(90deg, var(--or), var(--or-vif));
    color: var(--bg-primary);
    text-decoration: none;
    font-family: 'Space Mono', monospace;
    font-size: 0.85rem;
    font-weight: 700;
    padding: 16px 32px;
    transition: all 0.3s;
  }
  .btn-share:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(245,166,35,0.3);
  }

  @media (max-width: 640px) {
    nav { padding: 18px 20px; }
    .nav-right { gap: 0.5rem; }
    .nav-tag { display: none; }
    .nav-btns { flex-direction: column; align-items: stretch; }
    .btn-prev, .btn-next { width: 100%; text-align: center; }
    .press-enter { display: none; }
  }
</style>
</head>
<body data-theme="light">

<nav>
  <div class="logo">
    <div class="logo-symbol"></div>
    <span data-i18n="nav-title">BAARA SKILLS</span>
  </div>
  <div class="nav-right">
    <div class="nav-tag" data-i18n="nav-tag">Sondage Apprenants</div>
    <div class="theme-toggle" onclick="toggleTheme()" title="Toggle theme"></div>
    <div class="lang-selector">
      <button class="lang-btn active" onclick="setLanguage('fr')">FR</button>
      <button class="lang-btn" onclick="setLanguage('en')">EN</button>
    </div>
  </div>
</nav>

<div class="progress-wrap">
  <div class="progress-bar" id="progressBar"></div>
</div>

<div class="survey-wrap">
  <div class="question-container">

    <!-- Q1 - EMAIL -->
    <div class="question-card active" id="q1">
      <div class="q-num" data-i18n="q-num-1">Question 01 / 10</div>
      <h2 class="q-title" data-i18n="q1-title">Ton adresse email</h2>
      <p class="q-sub" data-i18n="q1-sub">Nous en avons besoin pour te recontacter et t'informer du lancement.</p>
      <input type="email" id="email-input" data-i18n-placeholder="q1-placeholder" placeholder="ton.email@exemple.com" oninput="validateEmail()">
      <div class="error-msg" id="email-error" data-i18n="email-error">Format d'email invalide (exemple: <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="0e6061634e6a61636f67606b206d6163">[email&#160;protected]</a>)</div>
      <div class="nav-btns">
        <div></div>
        <div style="display:flex;align-items:center;gap:20px;">
          <span class="press-enter" data-i18n="press-enter">Appuie sur Entr√©e ‚Üµ</span>
          <button class="btn-next" id="next-q1" onclick="nextQuestion(1)" disabled data-i18n="btn-next">Suivant ‚Üí</button>
        </div>
      </div>
    </div>

    <!-- Q2 - T√âL√âPHONE -->
    <div class="question-card" id="q2">
      <div class="q-num" data-i18n="q-num-2">Question 02 / 10</div>
      <h2 class="q-title" data-i18n="q2-title">Ton num√©ro de t√©l√©phone</h2>
      <p class="q-sub" data-i18n="q2-sub">Format international recommand√© (ex: +225 07 12 34 56 78)</p>
      <input type="tel" id="phone-input" data-i18n-placeholder="q2-placeholder" placeholder="+225 XX XX XX XX XX" oninput="validatePhone()">
      <div class="error-msg" id="phone-error" data-i18n="phone-error">Format invalide (minimum 8 chiffres, ex: +225 0712345678)</div>
      <div class="nav-btns">
        <button class="btn-prev" onclick="prevQuestion(2)" data-i18n="btn-prev">‚Üê Retour</button>
        <div style="display:flex;align-items:center;gap:20px;">
          <span class="press-enter" data-i18n="press-enter">Appuie sur Entr√©e ‚Üµ</span>
          <button class="btn-next" id="next-q2" onclick="nextQuestion(2)" disabled data-i18n="btn-next">Suivant ‚Üí</button>
        </div>
      </div>
    </div>

    <!-- Q3 - √âchelle CV -->
    <div class="question-card" id="q3">
      <div class="q-num" data-i18n="q-num-3">Question 03 / 10</div>
      <h2 class="q-title" data-i18n="q3-title">Sur une √©chelle de 1 √† 10, √† quel point fais-tu confiance √† ton CV pour d√©crocher un entretien ?</h2>
      <p class="q-sub" data-i18n="q3-sub">1 = pas du tout ¬∑ 10 = totalement confiant</p>
      <div class="scale-wrap" id="scale-q3"></div>
      <div class="scale-labels">
        <span data-i18n="scale-not-at-all">Pas du tout</span>
        <span data-i18n="scale-fully">Totalement confiant</span>
      </div>
      <div class="nav-btns">
        <button class="btn-prev" onclick="prevQuestion(3)" data-i18n="btn-prev">‚Üê Retour</button>
        <div style="display:flex;align-items:center;gap:20px;">
          <span class="press-enter" data-i18n="press-enter">Appuie sur Entr√©e ‚Üµ</span>
          <button class="btn-next" id="next-q3" onclick="nextQuestion(3)" disabled data-i18n="btn-next">Suivant ‚Üí</button>
        </div>
      </div>
    </div>

    <!-- Q4 - Situation -->
    <div class="question-card" id="q4">
      <div class="q-num" data-i18n="q-num-4">Question 04 / 10</div>
      <h2 class="q-title" data-i18n="q4-title">Quelle est ta situation actuelle ?</h2>
      <p class="q-sub" data-i18n="q4-sub">Choisis l'option qui te correspond le mieux.</p>
      <div class="options-grid">
        <button class="option-btn" onclick="selectOption(this, 'q4')">
          <span class="option-letter">A</span> <span data-i18n="q4-a">√âtudiant(e) en fin de cycle</span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'q4')">
          <span class="option-letter">B</span> <span data-i18n="q4-b">Dipl√¥m√©(e) en recherche d'emploi</span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'q4')">
          <span class="option-letter">C</span> <span data-i18n="q4-c">En stage / alternance</span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'q4')">
          <span class="option-letter">D</span> <span data-i18n="q4-d">En reconversion professionnelle</span>
        </button>
        <button class="option-btn" onclick="selectOptionWithOther(this, 'q4', 'other-q4')">
          <span class="option-letter">E</span> <span data-i18n="q4-e">Autre</span>
        </button>
      </div>
      <input type="text" id="other-q4" class="other-input" data-i18n-placeholder="other-placeholder" placeholder="Pr√©cisez votre situation..." oninput="checkOtherInput('q4')">
      <div class="nav-btns">
        <button class="btn-prev" onclick="prevQuestion(4)" data-i18n="btn-prev">‚Üê Retour</button>
        <div style="display:flex;align-items:center;gap:20px;">
          <span class="press-enter" data-i18n="press-enter">Appuie sur Entr√©e ‚Üµ</span>
          <button class="btn-next" id="next-q4" onclick="nextQuestion(4)" disabled data-i18n="btn-next">Suivant ‚Üí</button>
        </div>
      </div>
    </div>

    <!-- Q5 - Frein -->
    <div class="question-card" id="q5">
      <div class="q-num" data-i18n="q-num-5">Question 05 / 10</div>
      <h2 class="q-title" data-i18n="q5-title">Quel est ton plus grand frein pour d√©crocher un emploi ?</h2>
      <p class="q-sub" data-i18n="q5-sub">Sois honn√™te ‚Äî c'est confidentiel.</p>
      <div class="options-grid">
        <button class="option-btn" onclick="selectOption(this, 'q5')">
          <span class="option-letter">A</span> <span data-i18n="q5-a">Manque d'exp√©rience professionnelle</span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'q5')">
          <span class="option-letter">B</span> <span data-i18n="q5-b">Comp√©tences techniques insuffisantes</span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'q5')">
          <span class="option-letter">C</span> <span data-i18n="q5-c">Absence de r√©seau professionnel</span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'q5')">
          <span class="option-letter">D</span> <span data-i18n="q5-d">Manque de confiance en soi</span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'q5')">
          <span class="option-letter">E</span> <span data-i18n="q5-e">CV qui ne valorise pas assez mes comp√©tences</span>
        </button>
        <button class="option-btn" onclick="selectOptionWithOther(this, 'q5', 'other-q5')">
          <span class="option-letter">F</span> <span data-i18n="q5-f">Autre</span>
        </button>
      </div>
      <input type="text" id="other-q5" class="other-input" data-i18n-placeholder="other-placeholder" placeholder="Pr√©cisez votre frein..." oninput="checkOtherInput('q5')">
      <div class="nav-btns">
        <button class="btn-prev" onclick="prevQuestion(5)" data-i18n="btn-prev">‚Üê Retour</button>
        <div style="display:flex;align-items:center;gap:20px;">
          <span class="press-enter" data-i18n="press-enter">Appuie sur Entr√©e ‚Üµ</span>
          <button class="btn-next" id="next-q5" onclick="nextQuestion(5)" disabled data-i18n="btn-next">Suivant ‚Üí</button>
        </div>
      </div>
    </div>

    <!-- Q6 - Frustration -->
    <div class="question-card" id="q6">
      <div class="q-num" data-i18n="q-num-6">Question 06 / 10</div>
      <h2 class="q-title" data-i18n="q6-title">√Ä quel point es-tu frustr√©(e) par le syst√®me actuel de recrutement ?</h2>
      <p class="q-sub" data-i18n="q6-sub">1 = pas frustr√© ¬∑ 10 = extr√™mement frustr√©</p>
      <div class="scale-wrap" id="scale-q6"></div>
      <div class="scale-labels">
        <span data-i18n="scale-not-at-all">Pas du tout</span>
        <span data-i18n="scale-frustrated">Extr√™mement frustr√©</span>
      </div>
      <div class="nav-btns">
        <button class="btn-prev" onclick="prevQuestion(6)" data-i18n="btn-prev">‚Üê Retour</button>
        <div style="display:flex;align-items:center;gap:20px;">
          <span class="press-enter" data-i18n="press-enter">Appuie sur Entr√©e ‚Üµ</span>
          <button class="btn-next" id="next-q6" onclick="nextQuestion(6)" disabled data-i18n="btn-next">Suivant ‚Üí</button>
        </div>
      </div>
    </div>

    <!-- Q7 - Moment d√©courageant -->
    <div class="question-card" id="q7">
      <div class="q-num" data-i18n="q-num-7">Question 07 / 10</div>
      <h2 class="q-title" data-i18n="q7-title">Quel est le moment le plus d√©courageant dans ta recherche ?</h2>
      <p class="q-sub" data-i18n="q7-sub">Une phrase suffit. C'est confidentiel.</p>
      <textarea id="text-q7" data-i18n-placeholder="q7-placeholder" placeholder="Ex : Quand je vois 'minimum 2 ans d'exp√©rience' pour un poste junior..." oninput="checkTextarea('q7')"></textarea>
      <div class="nav-btns">
        <button class="btn-prev" onclick="prevQuestion(7)" data-i18n="btn-prev">‚Üê Retour</button>
        <div style="display:flex;align-items:center;gap:20px;">
          <span class="press-enter" data-i18n="press-enter">Appuie sur Entr√©e ‚Üµ</span>
          <button class="btn-next" id="next-q7" onclick="nextQuestion(7)" disabled data-i18n="btn-next">Suivant ‚Üí</button>
        </div>
      </div>
    </div>

    <!-- Q8 - Produit -->
    <div class="question-card" id="q8">
      <div class="q-num" data-i18n="q-num-8">Question 08 / 10</div>
      <h2 class="q-title" data-i18n="q8-title">Si tu pouvais travailler sur une vraie mission d'entreprise pendant 4h et obtenir une certification v√©rifiable ‚Äî tu le ferais ?</h2>
      <p class="q-sub" data-i18n="q8-sub">C'est exactement ce que BAARA SKILLS propose.</p>
      <div class="options-grid">
        <button class="option-btn" onclick="selectOption(this, 'q8')">
          <span class="option-letter">A</span> <span data-i18n="q8-a">Oui, imm√©diatement ‚ú¶</span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'q8')">
          <span class="option-letter">B</span> <span data-i18n="q8-b">Oui, si c'est dans mon secteur</span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'q8')">
          <span class="option-letter">C</span> <span data-i18n="q8-c">Peut-√™tre</span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'q8')">
          <span class="option-letter">D</span> <span data-i18n="q8-d">Non</span>
        </button>
      </div>
      <div class="nav-btns">
        <button class="btn-prev" onclick="prevQuestion(8)" data-i18n="btn-prev">‚Üê Retour</button>
        <div style="display:flex;align-items:center;gap:20px;">
          <span class="press-enter" data-i18n="press-enter">Appuie sur Entr√©e ‚Üµ</span>
          <button class="btn-next" id="next-q8" onclick="nextQuestion(8)" disabled data-i18n="btn-next">Suivant ‚Üí</button>
        </div>
      </div>
    </div>

    <!-- Q9 - Paiement -->
    <div class="question-card" id="q9">
      <div class="q-num" data-i18n="q-num-9">Question 09 / 10</div>
      <h2 class="q-title" data-i18n="q9-title">Serais-tu pr√™t(e) √† payer pour une exp√©rience professionnelle certifi√©e ?</h2>
      <p class="q-sub" data-i18n="q9-sub">Sois honn√™te ‚Äî √ßa nous aide √† construire le bon mod√®le.</p>
      <div class="options-grid">
        <button class="option-btn" onclick="selectOption(this, 'q9')">
          <span class="option-letter">A</span> <span data-i18n="q9-a">Oui ‚Äî moins de 10 000 FCFA</span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'q9')">
          <span class="option-letter">B</span> <span data-i18n="q9-b">Oui ‚Äî entre 10 000 et 25 000 FCFA</span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'q9')">
          <span class="option-letter">C</span> <span data-i18n="q9-c">Oui ‚Äî plus de 50 000 FCFA</span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'q9')">
          <span class="option-letter">D</span> <span data-i18n="q9-d">Non, uniquement si c'est gratuit</span>
        </button>
      </div>
      <div class="nav-btns">
        <button class="btn-prev" onclick="prevQuestion(9)" data-i18n="btn-prev">‚Üê Retour</button>
        <div style="display:flex;align-items:center;gap:20px;">
          <span class="press-enter" data-i18n="press-enter">Appuie sur Entr√©e ‚Üµ</span>
          <button class="btn-next" id="next-q9" onclick="nextQuestion(9)" disabled data-i18n="btn-next">Suivant ‚Üí</button>
        </div>
      </div>
    </div>

    <!-- Q10 - Secteur -->
    <div class="question-card" id="q10">
      <div class="q-num" data-i18n="q-num-10">Question 10 / 10</div>
      <h2 class="q-title" data-i18n="q10-title">Quel secteur t'int√©resse le plus ?</h2>
      <p class="q-sub" data-i18n="q10-sub">On construit les simulations dans l'ordre de la demande.</p>
      <div class="options-grid">
        <button class="option-btn" onclick="selectOption(this, 'q10')">
          <span class="option-letter">A</span> <span data-i18n="q10-a">Tech & Digital</span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'q10')">
          <span class="option-letter">B</span> <span data-i18n="q10-b">Finance & Comptabilit√©</span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'q10')">
          <span class="option-letter">C</span> <span data-i18n="q10-c">Ressources Humaines</span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'q10')">
          <span class="option-letter">D</span> <span data-i18n="q10-d">Marketing & Communication</span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'q10')">
          <span class="option-letter">E</span> <span data-i18n="q10-e">Logistique & Supply Chain</span>
        </button>
        <button class="option-btn" onclick="selectOption(this, 'q10')">
          <span class="option-letter">F</span> <span data-i18n="q10-f">Data & Analyse</span>
        </button>
        <button class="option-btn" onclick="selectOptionWithOther(this, 'q10', 'other-q10')">
          <span class="option-letter">G</span> <span data-i18n="q10-g">Autre</span>
        </button>
      </div>
      <input type="text" id="other-q10" class="other-input" data-i18n-placeholder="other-placeholder-sector" placeholder="Pr√©cisez le secteur..." oninput="checkOtherInput('q10')">
      <div class="nav-btns">
        <button class="btn-prev" onclick="prevQuestion(10)" data-i18n="btn-prev">‚Üê Retour</button>
        <div style="display:flex;align-items:center;gap:20px;">
          <span class="press-enter" data-i18n="press-enter">Appuie sur Entr√©e ‚Üµ</span>
          <button class="btn-next" id="next-q10" onclick="submitSurvey()" disabled data-i18n="btn-send">Envoyer ‚ú¶</button>
        </div>
      </div>
    </div>

    <!-- SUCCESS -->
    <div class="success-screen" id="success">
      <span class="success-icon">‚ú¶</span>
      <h2 data-i18n="success-title">Merci d'avoir<br>rejoint <span>BAARA SKILLS</span></h2>
      <p data-i18n="success-text">Tes r√©ponses nous aident √† construire une plateforme qui correspond vraiment √† ta r√©alit√©. Tu seras parmi les premiers inform√©s du lancement.</p>
      <a href="https://habibkoffi.github.io/baara-skills/" class="btn-share" data-i18n="success-btn">Voir la plateforme ‚Üí</a>
    </div>

  </div>
</div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// TRADUCTIONS FR/EN
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const translations = {
  fr: {
    'nav-tag': 'Sondage Apprenants',
    'q-num-1': 'Question 01 / 10',
    'q-num-2': 'Question 02 / 10',
    'q-num-3': 'Question 03 / 10',
    'q-num-4': 'Question 04 / 10',
    'q-num-5': 'Question 05 / 10',
    'q-num-6': 'Question 06 / 10',
    'q-num-7': 'Question 07 / 10',
    'q-num-8': 'Question 08 / 10',
    'q-num-9': 'Question 09 / 10',
    'q-num-10': 'Question 10 / 10',
    'q1-title': 'Ton adresse email',
    'q1-sub': 'Nous en avons besoin pour te recontacter et t\'informer du lancement.',
    'q1-placeholder': 'ton.email@exemple.com',
    'email-error': 'Format d\'email invalide (exemple: nom@domaine.com)',
    'q2-title': 'Ton num√©ro de t√©l√©phone',
    'q2-sub': 'Format international recommand√© (ex: +225 07 12 34 56 78)',
    'q2-placeholder': '+225 XX XX XX XX XX',
    'phone-error': 'Format invalide (minimum 8 chiffres, ex: +225 0712345678)',
    'q3-title': 'Sur une √©chelle de 1 √† 10, √† quel point fais-tu confiance √† ton CV pour d√©crocher un entretien ?',
    'q3-sub': '1 = pas du tout ¬∑ 10 = totalement confiant',
    'q4-title': 'Quelle est ta situation actuelle ?',
    'q4-sub': 'Choisis l\'option qui te correspond le mieux.',
    'q4-a': '√âtudiant(e) en fin de cycle',
    'q4-b': 'Dipl√¥m√©(e) en recherche d\'emploi',
    'q4-c': 'En stage / alternance',
    'q4-d': 'En reconversion professionnelle',
    'q4-e': 'Autre',
    'q5-title': 'Quel est ton plus grand frein pour d√©crocher un emploi ?',
    'q5-sub': 'Sois honn√™te ‚Äî c\'est confidentiel.',
    'q5-a': 'Manque d\'exp√©rience professionnelle',
    'q5-b': 'Comp√©tences techniques insuffisantes',
    'q5-c': 'Absence de r√©seau professionnel',
    'q5-d': 'Manque de confiance en soi',
    'q5-e': 'CV qui ne valorise pas assez mes comp√©tences',
    'q5-f': 'Autre',
    'q6-title': '√Ä quel point es-tu frustr√©(e) par le syst√®me actuel de recrutement ?',
    'q6-sub': '1 = pas frustr√© ¬∑ 10 = extr√™mement frustr√©',
    'q7-title': 'Quel est le moment le plus d√©courageant dans ta recherche ?',
    'q7-sub': 'Une phrase suffit. C\'est confidentiel.',
    'q7-placeholder': 'Ex : Quand je vois "minimum 2 ans d\'exp√©rience" pour un poste junior...',
    'q8-title': 'Si tu pouvais travailler sur une vraie mission d\'entreprise pendant 4h et obtenir une certification v√©rifiable ‚Äî tu le ferais ?',
    'q8-sub': 'C\'est exactement ce que BAARA SKILLS propose.',
    'q8-a': 'Oui, imm√©diatement ‚ú¶',
    'q8-b': 'Oui, si c\'est dans mon secteur',
    'q8-c': 'Peut-√™tre',
    'q8-d': 'Non',
    'q9-title': 'Serais-tu pr√™t(e) √† payer pour une exp√©rience professionnelle certifi√©e ?',
    'q9-sub': 'Sois honn√™te ‚Äî √ßa nous aide √† construire le bon mod√®le.',
    'q9-a': 'Oui ‚Äî moins de 10 000 FCFA',
    'q9-b': 'Oui ‚Äî entre 10 000 et 25 000 FCFA',
    'q9-c': 'Oui ‚Äî plus de 50 000 FCFA',
    'q9-d': 'Non, uniquement si c\'est gratuit',
    'q10-title': 'Quel secteur t\'int√©resse le plus ?',
    'q10-sub': 'On construit les simulations dans l\'ordre de la demande.',
    'q10-a': 'Tech & Digital',
    'q10-b': 'Finance & Comptabilit√©',
    'q10-c': 'Ressources Humaines',
    'q10-d': 'Marketing & Communication',
    'q10-e': 'Logistique & Supply Chain',
    'q10-f': 'Data & Analyse',
    'q10-g': 'Autre',
    'other-placeholder': 'Pr√©cisez...',
    'other-placeholder-sector': 'Pr√©cisez le secteur...',
    'scale-not-at-all': 'Pas du tout',
    'scale-fully': 'Totalement confiant',
    'scale-frustrated': 'Extr√™mement frustr√©',
    'btn-prev': '‚Üê Retour',
    'btn-next': 'Suivant ‚Üí',
    'btn-send': 'Envoyer ‚ú¶',
    'press-enter': 'Appuie sur Entr√©e ‚Üµ',
    'success-title': 'Merci d\'avoir<br>rejoint <span>BAARA SKILLS</span>',
    'success-text': 'Tes r√©ponses nous aident √† construire une plateforme qui correspond vraiment √† ta r√©alit√©. Tu seras parmi les premiers inform√©s du lancement.',
    'success-btn': 'Voir la plateforme ‚Üí'
  },
  en: {
    'nav-tag': 'Learner Survey',
    'q-num-1': 'Question 01 / 10',
    'q-num-2': 'Question 02 / 10',
    'q-num-3': 'Question 03 / 10',
    'q-num-4': 'Question 04 / 10',
    'q-num-5': 'Question 05 / 10',
    'q-num-6': 'Question 06 / 10',
    'q-num-7': 'Question 07 / 10',
    'q-num-8': 'Question 08 / 10',
    'q-num-9': 'Question 09 / 10',
    'q-num-10': 'Question 10 / 10',
    'q1-title': 'Your email address',
    'q1-sub': 'We need it to contact you and inform you of the launch.',
    'q1-placeholder': 'your.email@example.com',
    'email-error': 'Invalid email format (example: name@domain.com)',
    'q2-title': 'Your phone number',
    'q2-sub': 'International format recommended (e.g.: +225 07 12 34 56 78)',
    'q2-placeholder': '+225 XX XX XX XX XX',
    'phone-error': 'Invalid format (minimum 8 digits, e.g.: +225 0712345678)',
    'q3-title': 'On a scale of 1 to 10, how confident are you that your resume will get you an interview?',
    'q3-sub': '1 = not at all ¬∑ 10 = totally confident',
    'q4-title': 'What is your current situation?',
    'q4-sub': 'Choose the option that best describes you.',
    'q4-a': 'Final year student',
    'q4-b': 'Graduate looking for work',
    'q4-c': 'Intern / apprentice',
    'q4-d': 'Career change',
    'q4-e': 'Other',
    'q5-title': 'What is your biggest barrier to getting a job?',
    'q5-sub': 'Be honest ‚Äî it\'s confidential.',
    'q5-a': 'Lack of professional experience',
    'q5-b': 'Insufficient technical skills',
    'q5-c': 'Absence of professional network',
    'q5-d': 'Lack of self-confidence',
    'q5-e': 'Resume that doesn\'t showcase my skills enough',
    'q5-f': 'Other',
    'q6-title': 'How frustrated are you with the current recruitment system?',
    'q6-sub': '1 = not frustrated ¬∑ 10 = extremely frustrated',
    'q7-title': 'What is the most discouraging moment in your job search?',
    'q7-sub': 'One sentence is enough. It\'s confidential.',
    'q7-placeholder': 'E.g.: When I see "minimum 2 years experience" for a junior position...',
    'q8-title': 'If you could work on a real company project for 4 hours and get verifiable certification ‚Äî would you do it?',
    'q8-sub': 'That\'s exactly what BAARA SKILLS offers.',
    'q8-a': 'Yes, immediately ‚ú¶',
    'q8-b': 'Yes, if it\'s in my field',
    'q8-c': 'Maybe',
    'q8-d': 'No',
    'q9-title': 'Would you be willing to pay for a certified professional experience?',
    'q9-sub': 'Be honest ‚Äî it helps us build the right model.',
    'q9-a': 'Yes ‚Äî less than 10,000 FCFA',
    'q9-b': 'Yes ‚Äî between 10,000 and 25,000 FCFA',
    'q9-c': 'Yes ‚Äî more than 50,000 FCFA',
    'q9-d': 'No, only if it\'s free',
    'q10-title': 'Which sector interests you most?',
    'q10-sub': 'We build simulations in order of demand.',
    'q10-a': 'Tech & Digital',
    'q10-b': 'Finance & Accounting',
    'q10-c': 'Human Resources',
    'q10-d': 'Marketing & Communication',
    'q10-e': 'Logistics & Supply Chain',
    'q10-f': 'Data & Analysis',
    'q10-g': 'Other',
    'other-placeholder': 'Please specify...',
    'other-placeholder-sector': 'Please specify sector...',
    'scale-not-at-all': 'Not at all',
    'scale-fully': 'Totally confident',
    'scale-frustrated': 'Extremely frustrated',
    'btn-prev': '‚Üê Back',
    'btn-next': 'Next ‚Üí',
    'btn-send': 'Send ‚ú¶',
    'press-enter': 'Press Enter ‚Üµ',
    'success-title': 'Thank you for<br>joining <span>BAARA SKILLS</span>',
    'success-text': 'Your answers help us build a platform that truly matches your reality. You\'ll be among the first to be notified of the launch.',
    'success-btn': 'View platform ‚Üí'
  }
};

let currentLang = 'fr';

function setLanguage(lang) {
  currentLang = lang;
  document.documentElement.lang = lang;
  localStorage.setItem('baara-survey-lang', lang);
  
  document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
  event.target.classList.add('active');
  
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (translations[lang][key]) {
      el.innerHTML = translations[lang][key];
    }
  });
  
  document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
    const key = el.getAttribute('data-i18n-placeholder');
    if (translations[lang][key]) {
      el.placeholder = translations[lang][key];
    }
  });
}

function toggleTheme() {
  const html = document.documentElement;
  const currentTheme = html.getAttribute('data-theme');
  const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
  html.setAttribute('data-theme', newTheme);
  localStorage.setItem('baara-survey-theme', newTheme);
}

window.addEventListener('DOMContentLoaded', () => {
  const savedTheme = localStorage.getItem('baara-survey-theme') || localStorage.getItem('baara-theme') || 'light';
  document.documentElement.setAttribute('data-theme', savedTheme);
  
  const savedLang = localStorage.getItem('baara-survey-lang') || localStorage.getItem('baara-lang') || 'fr';
  if (savedLang !== 'fr') {
    const langBtn = document.querySelector(`.lang-btn[onclick="setLanguage('${savedLang}')"]`);
    if (langBtn) {
      setTimeout(() => langBtn.click(), 100);
    }
  }
  
  // ‚úÖ NOUVEAU : Si l'utilisateur vient de la landing page avec un email, le pr√©-remplir
  const storedEmail = localStorage.getItem('baara-email');
  if (storedEmail) {
    document.getElementById('email-input').value = storedEmail;
    validateEmail(); // Valider automatiquement
    localStorage.removeItem('baara-email');
    localStorage.removeItem('baara-source');
  }
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// VALIDATION EMAIL
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function validateEmail() {
  const input = document.getElementById('email-input');
  const error = document.getElementById('email-error');
  const btn = document.getElementById('next-q1');
  const email = input.value.trim();
  
  // Regex email basique mais robuste
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  
  if (email.length === 0) {
    input.classList.remove('error');
    error.classList.remove('show');
    btn.disabled = true;
    return;
  }
  
  if (emailRegex.test(email)) {
    input.classList.remove('error');
    error.classList.remove('show');
    btn.disabled = false;
    answers['email'] = email;
  } else {
    input.classList.add('error');
    error.classList.add('show');
    btn.disabled = true;
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// VALIDATION T√âL√âPHONE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function validatePhone() {
  const input = document.getElementById('phone-input');
  const error = document.getElementById('phone-error');
  const btn = document.getElementById('next-q2');
  const phone = input.value.trim();
  
  // Extraire uniquement les chiffres
  const digitsOnly = phone.replace(/\D/g, '');
  
  // Minimum 8 chiffres (peut contenir +, espaces, tirets)
  if (phone.length === 0) {
    input.classList.remove('error');
    error.classList.remove('show');
    btn.disabled = true;
    return;
  }
  
  if (digitsOnly.length >= 8) {
    input.classList.remove('error');
    error.classList.remove('show');
    btn.disabled = false;
    answers['phone'] = phone;
  } else {
    input.classList.add('error');
    error.classList.add('show');
    btn.disabled = true;
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// LOGIQUE DU SONDAGE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyIEczJKbvqAHvROBfWfeaA8omWRVW66djucwaL5yczZU64y_WrKsmEQF1knBPZhtB3Jw/exec';

const TOTAL = 10;
let answers = {};
let current = 1;

// G√©n√©rer les √©chelles Q3 et Q6
const scaleQ3 = document.getElementById('scale-q3');
const scaleQ6 = document.getElementById('scale-q6');

for (let i = 1; i <= 10; i++) {
  const btn3 = document.createElement('button');
  btn3.className = 'scale-btn';
  btn3.textContent = i;
  btn3.onclick = () => selectScale(btn3, i, 'q3');
  scaleQ3.appendChild(btn3);
  
  const btn6 = document.createElement('button');
  btn6.className = 'scale-btn';
  btn6.textContent = i;
  btn6.onclick = () => selectScale(btn6, i, 'q6');
  scaleQ6.appendChild(btn6);
}

function updateProgress() {
  const pct = ((current - 1) / TOTAL) * 100;
  document.getElementById('progressBar').style.width = pct + '%';
}

function selectOption(btn, qId) {
  const parent = btn.closest('.options-grid');
  parent.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
  btn.classList.add('selected');
  answers[qId] = btn.textContent.trim().substring(1).trim();
  document.getElementById('next-' + qId).disabled = false;
  
  // Masquer le champ "Autre" si une autre option est s√©lectionn√©e
  const otherInput = document.getElementById('other-' + qId);
  if (otherInput) {
    otherInput.classList.remove('show');
    otherInput.value = '';
  }
}

function selectOptionWithOther(btn, qId, otherInputId) {
  const parent = btn.closest('.options-grid');
  parent.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
  btn.classList.add('selected');
  
  // Afficher le champ "Autre"
  const otherInput = document.getElementById(otherInputId);
  otherInput.classList.add('show');
  otherInput.focus();
  
  // D√©sactiver le bouton "Suivant" jusqu'√† ce que l'utilisateur √©crive quelque chose
  document.getElementById('next-' + qId).disabled = true;
}

function checkOtherInput(qId) {
  const otherInput = document.getElementById('other-' + qId);
  const val = otherInput.value.trim();
  
  if (val.length >= 3) {
    answers[qId] = 'Autre : ' + val;
    document.getElementById('next-' + qId).disabled = false;
  } else {
    document.getElementById('next-' + qId).disabled = true;
  }
}

function selectScale(btn, val, qId) {
  const parent = btn.closest('.scale-wrap');
  parent.querySelectorAll('.scale-btn').forEach(b => b.classList.remove('selected'));
  btn.classList.add('selected');
  answers[qId] = val;
  document.getElementById('next-' + qId).disabled = false;
}

function checkTextarea(qId) {
  const val = document.getElementById('text-' + qId).value.trim();
  answers[qId] = val;
  document.getElementById('next-' + qId).disabled = val.length < 3;
}

function nextQuestion(from) {
  document.getElementById('q' + from).classList.remove('active');
  current = from + 1;
  if (current <= TOTAL) {
    document.getElementById('q' + current).classList.add('active');
  }
  updateProgress();
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

function prevQuestion(from) {
  document.getElementById('q' + from).classList.remove('active');
  current = from - 1;
  document.getElementById('q' + current).classList.add('active');
  updateProgress();
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

document.addEventListener('keydown', e => {
  if (e.key === 'Enter' && current <= TOTAL) {
    const nextBtn = document.getElementById('next-q' + current);
    if (nextBtn && !nextBtn.disabled) nextBtn.click();
  }
});

function submitSurvey() {
  const btn = document.getElementById('next-q10');
  btn.textContent = '...';
  btn.disabled = true;

  const payload = {
    source: 'sondage',
    email: answers['email'] || '',
    phone: answers['phone'] || '',
    q1_confiance: answers['q3'] || '',
    q2_profil: answers['q4'] || '',
    q3_frein: answers['q5'] || '',
    q4_frustration: answers['q6'] || '',
    q5_moment: answers['q7'] || '',
    q6_produit: answers['q8'] || '',
    q7_paiement: answers['q9'] || '',
    q8_secteur: answers['q10'] || ''
  };

  fetch(SCRIPT_URL, {
    method: 'POST',
    mode: 'no-cors',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(payload)
  })
  .then(() => {
    document.getElementById('q10').classList.remove('active');
    document.getElementById('success').classList.add('active');
    document.getElementById('progressBar').style.width = '100%';
  })
  .catch(() => {
    document.getElementById('q10').classList.remove('active');
    document.getElementById('success').classList.add('active');
    document.getElementById('progressBar').style.width = '100%';
  });
}

updateProgress();
</script>

</body>
</html>
